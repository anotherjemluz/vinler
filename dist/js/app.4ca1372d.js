(function(t){function e(e){for(var o,r,n=e[0],l=e[1],c=e[2],d=0,m=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},s={app:0},i=[];function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"06e1":function(t,e,a){"use strict";var o=a("0721"),s=a.n(o);s.a},"0721":function(t,e,a){},"182c":function(t,e,a){"use strict";var o=a("b570"),s=a.n(o);s.a},"1b79":function(t,e,a){},"1d92":function(t,e,a){},2386:function(t,e,a){"use strict";var o=a("4e4c"),s=a.n(o);s.a},2666:function(t,e,a){"use strict";var o=a("e92a"),s=a.n(o);s.a},"26fd":function(t,e,a){},"274d":function(t,e,a){},"42e8":function(t,e,a){},"4e4c":function(t,e,a){},"53a2":function(t,e,a){"use strict";var o=a("26fd"),s=a.n(o);s.a},"53d7":function(t,e,a){"use strict";var o=a("65c9"),s=a.n(o);s.a},5452:function(t,e,a){"use strict";var o=a("1b79"),s=a.n(o);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("28a5"),a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isBussy?a("Loading",{staticClass:"loading"}):a("div",[a("Header"),t.validatingToken?t._e():a("Content"),a("Footer")],1)],1)},i=[],r=(a("96cf"),a("3b8d")),n=a("bc3a"),l=a.n(n),c="__vinler_user",u="https://mysql669.umbler.com:41890";function d(t){t&&t.response&&t.response.data?(o["default"].toasted.global.defaultError({msg:t}),console.log(t)):"string"===typeof t?o["default"].toasted.global.defaultError({msg:t}):o["default"].toasted.global.defaultError()}var m=a("2f62"),p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",[t.hideToggle?t._e():o("a",{staticClass:"toggle bt-menu",on:{click:t.toggleMenu}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.isCloseMenu,expression:"isCloseMenu"}]},[o("svg",{attrs:{id:"close-menu",width:"18.704",height:"19.224",viewBox:"0 0 18.704 19.224"}},[o("g",{attrs:{id:"close_menu","data-name":"close menu",transform:"translate(-20.379 -37.379)"}},[o("path",{attrs:{id:"Caminho_2127","data-name":"Caminho 2127",d:"M0,0,14.556,14.895",transform:"translate(22.5 39.5)",fill:"none",stroke:"#FFB600","stroke-linecap":"round","stroke-width":"3"}}),o("line",{attrs:{id:"Linha_3","data-name":"Linha 3",y1:"14.982",x2:"14.461",transform:"translate(22.5 39.5)",fill:"none",stroke:"#FFB600","stroke-linecap":"round","stroke-width":"3"}})])])]),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCloseMenu,expression:"!isCloseMenu"}]},[o("svg",{attrs:{width:"30",height:"19",viewBox:"0 0 30.112 19"}},[o("g",{attrs:{id:"botao_menu","data-name":"botao menu",transform:"translate(-18 -38)"}},[o("line",{attrs:{id:"Linha_1","data-name":"Linha 1",x2:"20",transform:"translate(22.5 39.5)",fill:"none",stroke:"#00ABC8","stroke-linecap":"round","stroke-width":"3"}}),o("line",{attrs:{id:"Linha_3","data-name":"Linha 3",x2:"20",transform:"translate(22.5 55.5)",fill:"none",stroke:"#00ABC8","stroke-linecap":"round","stroke-width":"3"}}),o("path",{attrs:{id:"Caminho_14","data-name":"Caminho 14",d:"M0,0H27.112",transform:"translate(19.5 47.5)",fill:"none",stroke:"#00ABC8","stroke-linecap":"round","stroke-width":"3"}})])])])]),o("div",{staticClass:"logo"},[o("router-link",{attrs:{to:"/vitrine"}},[o("img",{attrs:{src:a("cf05")}})])],1),o("Nav"),t.user?o("router-link",{staticClass:"toggle nav-link  bt-minha-conta",class:{"hide-element":!t.user},attrs:{to:"/minha-conta"}},[o("p",{staticClass:"hide-mobile",attrs:{id:"welcome-text"}},[t._v("Olá, "+t._s(t.user?t.user.nome.charAt(0).toUpperCase()+t.user.nome.slice(1):null))]),o("svg",{attrs:{width:"35.426",height:"37.183",viewBox:"0 0 35.426 37.183"}},[o("g",{attrs:{id:"black-user-shape",transform:"translate(-6.559)"}},[o("path",{attrs:{id:"user_svg","data-name":"Caminho 14",d:"M24.227,22.007c-5.174,0-9.367-5.026-9.367-11.221S19.053,0,24.227,0,33.6,4.592,33.6,10.786,29.4,22.007,24.227,22.007ZM9.657,37.176S7.67,37.307,6.8,36.1c-.473-.651-.143-1.972.18-2.708l.792-1.8a37.364,37.364,0,0,1,4.683-7.737,3.562,3.562,0,0,1,4.531-.778,12.191,12.191,0,0,1,2.146,1.9,6.965,6.965,0,0,0,4.67,1.631H25.26a6.96,6.96,0,0,0,4.667-1.631,13,13,0,0,1,2.116-1.944,3.259,3.259,0,0,1,4.219.821,32.5,32.5,0,0,1,4.469,7.826l.812,1.77c.336.732.68,2.045.22,2.705A3.213,3.213,0,0,1,39.1,37.176Z"}})])])]):t._e(),t.user?t._e():o("router-link",{staticClass:"nav-link bt-login",attrs:{to:"/auth",alt:"Login",title:"Login"}},[t._v("Login "),o("font-awesome-icon",{attrs:{icon:"sign-in-alt"}})],1),t.hideToggle?t._e():o("a",{staticClass:"toggle bt-notify",class:{"hide-element":!t.user},on:{click:t.toggleNotify}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.isCloseNotify,expression:"isCloseNotify"}]},[o("svg",{attrs:{id:"close-menu",width:"18.704",height:"19.224",viewBox:"0 0 18.704 19.224"}},[o("g",{attrs:{id:"close_menu","data-name":"close menu",transform:"translate(-20.379 -37.379)"}},[o("path",{attrs:{id:"Caminho_2127","data-name":"Caminho 2127",d:"M0,0,14.556,14.895",transform:"translate(22.5 39.5)",fill:"none",stroke:"#FFB600","stroke-linecap":"round","stroke-width":"3"}}),o("line",{attrs:{id:"Linha_3","data-name":"Linha 3",y1:"14.982",x2:"14.461",transform:"translate(22.5 39.5)",fill:"none",stroke:"#FFB600","stroke-linecap":"round","stroke-width":"3"}})])])]),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCloseNotify,expression:"!isCloseNotify"}]},[o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"48.026",height:"42.582",viewBox:"0 0 48.026 42.582"}},[o("g",{attrs:{id:"Grupo_73","data-name":"Grupo 73",transform:"translate(-1386.804 -132.7)"}},[o("g",{attrs:{id:"Notificação",transform:"translate(1386.804 132.7)"}},[o("rect",{attrs:{id:"Retângulo_68","data-name":"Retângulo 68",width:"40",height:"35",rx:"5",transform:"translate(8.026 7.582)",fill:"#00abc8"}}),o("rect",{attrs:{id:"Retângulo_69","data-name":"Retângulo 69",width:"18.238",height:"18.238",transform:"translate(16.88 13.262)",fill:"none"}}),o("ellipse",{attrs:{id:"Elipse_4","data-name":"Elipse 4",cx:"7.556",cy:"7.556",rx:"7.556",ry:"7.556",fill:"#ffb600"}}),o("text",{attrs:{id:"_1","data-name":"1",transform:"translate(4.271 9.82)",fill:"#fff","font-size":"8","font-family":"Aileron-Bold, Aileron","font-weight":"700"}},[o("tspan",{attrs:{x:"0",y:"0"}},[t._v("1")])])]),o("g",{attrs:{id:"bell",transform:"translate(1405.657 145.959)"}},[o("path",{attrs:{id:"Caminho_11","data-name":"Caminho 11",d:"M184.9,465.044a3.254,3.254,0,0,0,5.956,0Z",transform:"translate(-179.273 -445.342)",fill:"#fff"}}),o("path",{attrs:{id:"Caminho_12","data-name":"Caminho 12",d:"M198.776,2.058a7.319,7.319,0,0,1,2.5.438V2.4a2.4,2.4,0,0,0-2.4-2.4h-.2a2.4,2.4,0,0,0-2.4,2.4v.095A7.333,7.333,0,0,1,198.776,2.058Z",transform:"translate(-190.166 0)",fill:"#fff"}}),o("path",{attrs:{id:"Caminho_13","data-name":"Caminho 13",d:"M69.578,93.846H53.668a.647.647,0,0,1-.639-.493.612.612,0,0,1,.34-.7A3.352,3.352,0,0,0,54.4,91.27a15.877,15.877,0,0,0,1.071-6.332,6.156,6.156,0,0,1,12.311-.024c0,.008,0,.016,0,.024A15.877,15.877,0,0,0,68.85,91.27a3.352,3.352,0,0,0,1.027,1.385.612.612,0,0,1,.34.7A.647.647,0,0,1,69.578,93.846Zm.306-1.186h0Z",transform:"translate(-53.013 -75.407)",fill:"#fff"}})])])])])]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.buscar,expression:"buscar"}],staticClass:"barra-pesquisa",attrs:{id:"inline-form-input-name",placeholder:"Encontrar livros"},domProps:{value:t.buscar},on:{input:function(e){e.target.composing||(t.buscar=e.target.value)}}}),o("button",{staticClass:"btn btn-primary btn-sm bt-pesquisa",attrs:{type:"button"},on:{click:function(t){}}},[o("font-awesome-icon",{attrs:{icon:"search"}})],1)],1)},v=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"main_nav row"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/vitrine"}},[t._v("Livros              ")])],1)},h=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"514",height:"114",viewBox:"0 0 514 114"}},[a("defs",[a("clipPath",{attrs:{id:"clip-Prancheta_1"}},[a("rect",{attrs:{width:"514",height:"114"}})])]),a("g",{attrs:{id:"Prancheta_1","data-name":"Prancheta – 1","clip-path":"url(#clip-Prancheta_1)"}},[a("g",{attrs:{id:"bookshelf",transform:"translate(1 -339.219)"}},[a("g",{attrs:{id:"Grupo_33","data-name":"Grupo 33"}},[a("g",{attrs:{id:"Grupo_32","data-name":"Grupo 32"}},[a("path",{attrs:{id:"Caminho_19","data-name":"Caminho 19",d:"M80,452.219a8,8,0,0,1-7.156-4.422l-40-80a8,8,0,1,1,14.312-7.156L72,410.332V364.219a8,8,0,0,1,16,0v80a8.007,8.007,0,0,1-8,8Z",fill:"#868491"}})])]),a("g",{attrs:{id:"Grupo_35","data-name":"Grupo 35"}},[a("g",{attrs:{id:"Grupo_34","data-name":"Grupo 34"}},[a("path",{attrs:{id:"Caminho_20","data-name":"Caminho 20",d:"M432.219,452.219a8.007,8.007,0,0,1-8-8v-80a8,8,0,0,1,16,0v46.113l24.844-49.691a8,8,0,1,1,14.312,7.156l-40,80A8,8,0,0,1,432.219,452.219Z",fill:"#868491"}})])]),a("g",{attrs:{id:"Grupo_44","data-name":"Grupo 44"}},[a("path",{attrs:{id:"Caminho_29","data-name":"Caminho 29",d:"M504.438,372.219H8a8,8,0,0,1-8-8v-16a8,8,0,0,1,8-8H504.438a8,8,0,0,1,8,8v16A8,8,0,0,1,504.438,372.219Z",fill:"#e6be8a"}})]),a("g",{attrs:{id:"Grupo_73","data-name":"Grupo 73"}},[a("path",{attrs:{id:"Caminho_38","data-name":"Caminho 38",d:"M0,356.219v8a8,8,0,0,0,8,8H504.438a8,8,0,0,0,8-8v-8Z",fill:"#c9a07c"}})])])])])},b=[],C={name:"bookshelfIcon"},_=C,j=a("2877"),w=Object(j["a"])(_,g,b,!1,null,null,null),y=w.exports,x={name:"Nav",computed:Object(m["b"])(["isLoged","user"]),components:{bookshelfIcon:y},data:function(){return{size:{width:48,height:48},generic:"Login / Cadastro ",welcome:"Olá, "}},methods:{logout:function(){localStorage.removeItem(c),this.$store.commit("setUser",null),this.$router.push({name:"Login"})}}},O=x,k=(a("d79f"),Object(j["a"])(O,f,h,!1,null,null,null)),S=k.exports,I={name:"Header",components:{Nav:S},props:{hideToggle:Boolean},computed:Object(m["b"])(["isCloseMenu","isCloseMinhaConta","isCloseNotify","user"]),data:function(){return{livroProcurado:""}},methods:{toggleMenu:function(){this.$store.commit("toggleMenu")},toggleNotify:function(){this.$store.commit("toggleNotify")}}},P=I,$=(a("5452"),Object(j["a"])(P,p,v,!1,null,null,null)),D=$.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("router-view")],1)},N=[],M={name:"Content"},E=M,A=Object(j["a"])(E,L,N,!1,null,null,null),q=A.exports,U=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{staticClass:"copy-div"},[a("h6",{attrs:{id:"copy-year"}},[a("strong",[t._v("2019")]),t._v(" @ vinler")])]),a("div",{staticClass:"dev-div"},[a("p",[a("strong",[t._v("Desenvolvido por")]),t._v(" RISE")])]),a("p",{staticClass:"flat-icons-copy"},[t._v("Icons made by "),a("a",{attrs:{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"}},[t._v("Freepik")]),t._v(" from "),a("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[t._v("www.flaticon.com")])])])}],F={},B=F,R=(a("53d7"),Object(j["a"])(B,U,V,!1,null,null,null)),T=R.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading"},[a("font-awesome-icon",{attrs:{icon:"spinner",spin:""}}),a("p",[t._v("carregando")])],1)},G=[],H={name:"Loading"},J=H,Z=(a("53a2"),Object(j["a"])(J,z,G,!1,null,null,null)),K=Z.exports,Q={name:"App",components:{Header:D,Content:q,Footer:T,Loading:K},computed:Object(m["b"])(["isLogoutVisible","user"]),data:function(){return{validatingToken:!0,isBussy:!0}},methods:{validateToken:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validatingToken=!0,e=localStorage.getItem(c),a=JSON.parse(e),a){t.next=7;break}return this.validatingToken=!1,this.$router.push({name:"auth"}),t.abrupt("return");case 7:return t.next=9,l.a.post("".concat(u,"/validateToken"),a);case 9:if(o=t.sent,!o.data){t.next=14;break}this.$store.commit("setUser",a),t.next=17;break;case 14:return localStorage.removeItem(c),this.$router.push({name:"auth"}),t.abrupt("return",alert("Seu token não foi validado!"));case 17:this.validatingToken=!1;case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loading:function(){}},mounted:function(){var t=this;setTimeout((function(){t.isBussy=!1}),200)},created:function(){this.validateToken(),this.$router.push({path:"/auth"})}},W=Q,X=(a("5c0b"),Object(j["a"])(W,s,i,!1,null,null,null)),Y=X.exports,tt=a("8c4f"),et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Banner"),a("ListaLivros")],1)},at=[],ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("section",{staticClass:"categorias row mt-5 mb-5"},[o("div",{staticClass:"livros"},[o("h3",{staticClass:"mb-3"},[t._v("Publicados Recentemente")]),o("div",{staticClass:"livro_grid"},t._l(t.objetos,(function(e,s){return e.proprietarioId!==t.user.id?o("div",{staticClass:"livro row"},[o("div",{staticClass:"livro_img"},[o("router-link",{attrs:{to:{name:"livro",params:{id:e.id}}}},[o("img",{attrs:{src:e.fotoUrl}})])],1),o("div",{staticClass:"livro_info"},[o("h5",{staticClass:"mt-3"},[t._v(t._s(e.titulo))]),o("p",[t._v(t._s(e.descricao.slice(0,30)+"..."))]),o("h6",[o("img",{staticClass:"ml-2 mr-2",attrs:{src:a("c8e3"),width:"20px"}}),t._v(" "+t._s(e.nPaginas)+" Páginas")]),o("h6",[o("img",{staticClass:"mr-2",attrs:{src:a("642d"),width:"30px"}}),t._v(" "+t._s(e.tempoVida)+"  ")]),t._l(t.donos,(function(a){return a.id===e.proprietarioId?o("div",[o("p",{staticClass:"mt-3"},[t._v("De "),o("strong",{staticStyle:{color:"#FFB600"}},[t._v(t._s(a.nome))])]),o("p",{staticClass:"dono_local mt-3"},[o("font-awesome-icon",{attrs:{icon:"map-marker-alt"}}),t._v("  "+t._s(a.local))],1)]):t._e()}))],2),o("div",{staticClass:"livro_actions"},[t._l(t.categorias,(function(a){return a.id===e.categoriaId?o("div",{staticClass:"bt-categoria"},[a.id===e.categoriaId?o("a",{staticClass:"mb-3",attrs:{href:"/"}},[o("p",[t._v(t._s(a.nome))])]):t._e()]):t._e()})),t.userLivrosCurtidos.includes(e.id)?o("a",{staticClass:"bt-deslike",on:{click:function(e){t.descurtir(s)}}},[o("font-awesome-icon",{attrs:{icon:"heart-broken"}}),t._v(" Descurtir")],1):o("a",{staticClass:"bt-like",on:{click:function(e){t.curtir(s)}}},[o("font-awesome-icon",{attrs:{icon:"heart"}}),t._v(" Curtir")],1)],2)]):t._e()})))])])])},st=[],it=(a("4917"),void 0),rt={name:"ListaLivros",computed:Object(m["b"])(["user","buscar"]),data:function(){return{objetos:[],categorias:[],curtidas:[],donos:[],curtida:{},descurtida:{},userLivrosCurtidos:[],livroDescurtidoId:[]}},methods:{loadObjetos:function(){var t=this,e="".concat(u,"/livros");l.a.get(e).then((function(e){t.objetos=e.data})).catch(d)},loadCategorias:function(){var t=this;l.a.get("".concat(u,"/categorias")).then((function(e){t.categorias=e.data}))},loadDonos:function(){var t=this;l.a.get("".concat(u,"/usuarios")).then((function(e){t.donos=e.data}))},loadCurtidas:function(){var t=this;l.a.get("".concat(u,"/curtidas")).then((function(e){t.curtidas=e.data;for(var a=0;a<t.curtidas.length;a++)t.curtidas[a].usuarioInteressadoId===t.user.id&&t.userLivrosCurtidos.push(t.curtidas[a].livroCurtidoId)}))},curtir:function(t){this.curtida.usuarioInteressadoId=this.$store.state.user.id,this.curtida.livroCurtidoId=this.objetos[t].id,this.curtida.proprietarioId=this.objetos[t].proprietarioId,this.curtida.nCurtidas=this.objetos[t].nCurtidas,l.a.post("".concat(u,"/curtidas"),this.curtida).then(this.$toasted.global.defaultSucess()).catch(d),this.curtida={}},descurtir:function(t){for(var e=0;e<this.curtidas.length;e++)this.curtidas[e].usuarioInteressadoId===this.user.id&&this.curtidas[e].livroCurtidoId===this.objetos[t].id&&(this.descurtida.id=this.curtidas[e].id,this.descurtida.livroDescurtidoId=this.curtidas[e].livroCurtidoId);this.descurtida.nCurtidas=this.objetos[t].nCurtidas,l.a.delete("".concat(u,"/descurtir"),{data:this.descurtida}).then(this.$toasted.global.defaultSucess()).catch(d)},show:function(t){var e=document.querySelectorAll(".livro_grid .livro"),a=0;return window.show=function(t){a+=t,a=Math.min(Math.max(a,0),e.length-1),e[a].scrollIntoView({behavior:"smooth"})},t}},watch:{buscar:function(){it.objetos.filter((function(t){return t.titulo.match(it.buscar)}))}},mounted:function(){this.loadCategorias(),this.loadObjetos(),this.loadDonos(),this.loadCurtidas()}},nt=rt,lt=(a("182c"),Object(j["a"])(nt,ot,st,!1,null,null,null)),ct=lt.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload mb-5"},[a("div",[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"22rem"},attrs:{title:"Carregar foto","img-src":t.imageData,"img-alt":"Image","img-top":"",tag:"article"}},[a("b-card-text",[t._v("Selecione o arquivo para ser enviado")]),a("div",{staticClass:"form"},[a("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"fields"},[a("input",{ref:"file",attrs:{type:"file",placeholder:"Selecione um arquivo"},on:{change:t.onSelect}})]),a("div",{staticClass:"message"},[a("h5",[t._v(t._s(t.message))])]),a("b-button",{attrs:{variant:"primary",size:"sm",type:"submit"}},[t._v("Enviar           ")])],1)])],1)],1)])},dt=[],mt=(a("6762"),{name:"Upload",data:function(){return{file:"",message:"",imageData:""}},methods:{onSelect:function(){this.previewImage();var t=["image/jpeg","image/jpg","image/png"],e=this.$refs.file.files[0];this.file=e,t.includes(e.type)||(this.message="Apenas imagens são aceitas."),e.size>5e5&&(this.message="Arquivo muito grande. O máximo permitido é 50KB")},onSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("file",this.file),t.prev=2,t.next=5,l.a.post("".concat(u,"/upload"),e);case 5:this.message="Upado!",t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),this.message="Deu ruim."+t.t0;case 11:case"end":return t.stop()}}),t,this,[[2,8]])})));function e(){return t.apply(this,arguments)}return e}(),previewImage:function(){var t=this,e=event.target;if(e.files&&e.files[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result},a.readAsDataURL(e.files[0])}}}}),pt=mt,vt=(a("f463"),Object(j["a"])(pt,ut,dt,!1,null,null,null)),ft=vt.exports,ht=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner"},[a("h1",[a("strong",[t._v("Troque")]),t._v(" os livros dos seus filhos e continue estimulando a leitura para eles ao "),a("strong",[t._v("explorar novos mundos")])])])}],bt={name:"Banner"},Ct=bt,_t=(a("f4e2"),Object(j["a"])(Ct,ht,gt,!1,null,null,null)),jt=_t.exports,wt={name:"Vitrine",components:{Upload:ft,ListaLivros:ct,Banner:jt}},yt=wt,xt=Object(j["a"])(yt,et,at,!1,null,null,null),Ot=xt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",[a("div",{staticClass:"auth-content"},[a("div",{staticClass:"auth-modal col-lg-3"},[a("h1",{staticClass:"auth-title"},[t._v(t._s(t.showSignup?"Novo Cadastro ":"Login"))]),a("form",{staticClass:"form-box"},[a("div",{staticClass:"form-group"},[t.showSignup?a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.nome,expression:"user.nome"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Seu nome aqui :)",required:""},domProps:{value:t.user.nome},on:{input:function(e){e.target.composing||t.$set(t.user,"nome",e.target.value)}}}):t._e()]),a("div",{staticClass:"form-group"},[t.showSignup?a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"seu e-mail",required:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}):t._e()]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.login,expression:"user.login"}],staticClass:"form-control",attrs:{type:"text",placeholder:"... e o login!",required:""},domProps:{value:t.user.login},on:{input:function(e){e.target.composing||t.$set(t.user,"login",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.senha,expression:"user.senha"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Ah! Tem a senha também.",required:""},domProps:{value:t.user.senha},on:{input:function(e){e.target.composing||t.$set(t.user,"senha",e.target.value)}}})]),a("div",{staticClass:"form-group"},[t.showSignup?a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.confirmarSenha,expression:"user.confirmarSenha"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Pode repetir a senha?",required:""},domProps:{value:t.user.confirmarSenha},on:{input:function(e){e.target.composing||t.$set(t.user,"confirmarSenha",e.target.value)}}}):t._e()]),a("div",{staticClass:"form-group"},[t.showSignup?a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.celular,expression:"user.celular"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Diz aí qual teu número.",required:""},domProps:{value:t.user.celular},on:{input:function(e){e.target.composing||t.$set(t.user,"celular",e.target.value)}}}):t._e()]),a("div",{staticClass:"form-group"},[t.showSignup?a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.local,expression:"user.local"}],staticClass:"form-control",attrs:{type:"text",placeholder:"E onde você mora ;)",required:""},domProps:{value:t.user.local},on:{input:function(e){e.target.composing||t.$set(t.user,"local",e.target.value)}}}):t._e()]),a("div",{staticClass:"button-group"},[t.showSignup?a("input",{staticClass:"btn btn-primary btn-pill bt-entrar",attrs:{type:"button",value:"Registrar"},on:{click:t.signup}}):a("input",{staticClass:"btn btn-primary btn-pill bt-entrar",attrs:{type:"button",value:"Entrar"},on:{click:t.signin}}),a("input",{staticClass:"btn btn-dark danger ml-3 btn-pill",attrs:{type:"button",value:"limpar","data-aos":"fade-left"},on:{click:function(t){}}})])]),a("a",{staticClass:"alternar",attrs:{href:""},on:{click:function(e){e.preventDefault(),t.showSignup=!t.showSignup}}},[t.showSignup?a("p",{staticStyle:{color:"#FFB600"}},[t._v("cadastro")]):a("p",{staticStyle:{color:"grey"}},[t._v("cadastro")]),t.showSignup?a("span",{staticClass:"fa fa-toggle-off fa-lg"}):a("span",{staticClass:"fa fa-toggle-on fa-lg"}),t.showSignup?a("p",{staticStyle:{color:"grey"}},[t._v("login")]):a("p",{staticStyle:{color:"#FFB600"}},[t._v("login")])])])])])},St=[],It={name:"LoginCadastro",data:function(){return{showSignup:!1,user:{}}},methods:{signin:function(){var t=this;l.a.post("".concat(u,"/signin"),this.user).then((function(e){t.$store.commit("setUser",e.data),localStorage.setItem(c,JSON.stringify(e.data)),t.$router.push({path:"/vitrine"})})).catch(d)},signup:function(){var t=this;l.a.post("".concat(u,"/signup"),this.user).then((function(){t.$toasted.global.defaultSucess(),t.user={},t.showSignup=!1})).catch(d)}}},Pt=It,$t=(a("b7dc"),Object(j["a"])(Pt,kt,St,!1,null,null,null)),Dt=$t.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-tabs",{attrs:{"content-class":"mt-5"}},[a("b-tab",{attrs:{title:"Usuários",active:""}},[a("DadosAmostraUsuarios")],1),a("b-tab",{attrs:{title:"Livros"}},[a("DadosAmostraLivros")],1),a("b-tab",{attrs:{title:"Categorias"}},[a("DadosAmostraCategorias")],1)],1)],1)},Nt=[],Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"intro-section",attrs:{id:"create-section"}},[a("div",{staticClass:"row align-items-center m-5"},[a("div",{staticClass:"col-12"},[a("h3",{staticClass:"mt-5 mb-3"},[t._v("Usuários")]),a("div",{staticClass:"row",attrs:{"data-aos":"fade-up","data-aos-delay":"500"}},[a("table",{staticClass:"data-table col-lg-9 form-box",attrs:{"data-aos":"fade-down","data-aos-delay":"0"}},[t._m(0),t._l(t.objetos,(function(e){return a("tr",{staticClass:"data-tr"},[a("th",{staticClass:"pd-left"},[t._v(t._s(e.id)+" / "+t._s(e.nome))]),a("th",{staticClass:"pd-left"},[t._v(t._s(e.email.slice(0,10)+"..."))]),a("th",{staticClass:"pd-left"},[t._v(t._s(e.login)+" / "+t._s(e.senha.slice(0,5)+"..."))]),a("th",{staticClass:"pd-left"},[a("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.fotoUrl,width:"50px",height:"50px"}})]),a("th",{staticClass:"pd-top pd-right row"},[a("button",{staticClass:"bt-edit",on:{click:function(a){t.loadObjeto(e,"save",!0)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1),a("button",{staticClass:"bt-remove",on:{click:function(a){t.loadObjeto(e,"remove",!1)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])])}))],2),a("form",{staticClass:"form-box col-lg-3  justify-content-center"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.nome,expression:"objeto.nome"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Seu nome aqui :)",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.nome},on:{input:function(e){e.target.composing||t.$set(t.objeto,"nome",e.target.value)}}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.email,expression:"objeto.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"seu melhor e-mail",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.email},on:{input:function(e){e.target.composing||t.$set(t.objeto,"email",e.target.value)}}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.login,expression:"objeto.login"}],staticClass:"form-control",attrs:{type:"text",placeholder:"...e o login!",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.login},on:{input:function(e){e.target.composing||t.$set(t.objeto,"login",e.target.value)}}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{ref:"file",attrs:{type:"file",accept:"file_extension|image/*"},on:{change:t.onSelect}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.senha,expression:"objeto.senha"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Ah! Tem a senha também.",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.senha},on:{input:function(e){e.target.composing||t.$set(t.objeto,"senha",e.target.value)}}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.confirmarSenha,expression:"objeto.confirmarSenha"}],staticClass:"form-control",attrs:{type:"password",placeholder:"confirme a senha :D",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.confirmarSenha},on:{input:function(e){e.target.composing||t.$set(t.objeto,"confirmarSenha",e.target.value)}}})]),a("div",{staticClass:"form-group justify-content-end"},["save"===t.mode?a("input",{staticClass:"btn btn-primary btn-pill",attrs:{type:"button",value:"Salvar "},on:{click:t.save}}):t._e(),"remove"===t.mode?a("input",{staticClass:"btn btn-danger btn-pill",attrs:{type:"button",value:"Excluir "},on:{click:t.remove}}):t._e(),a("input",{staticClass:"btn btn-dark danger ml-3 btn-pill",attrs:{type:"button",value:"limpar","data-aos":"fade-left"},on:{click:t.reset}})])])])])])])])},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"top"},[a("th",{staticClass:"pd-top"},[t._v("Id / Nome")]),a("th",{staticClass:"pd-top"},[t._v("E-mail")]),a("th",{staticClass:"pd-top"},[t._v("Login / Senha Criptografada")]),a("th",{staticClass:"pd-top"},[t._v("FotoUrl")]),a("th",{staticClass:"pd-top"},[t._v("Ações")])])}],At=(a("8e6e"),a("ac6a"),a("456d"),a("bd86"));function qt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function Ut(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?qt(a,!0).forEach((function(e){Object(At["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Vt={name:"DadosAmostra",computed:Object(m["b"])(["user"]),data:function(){return{mode:"save",objeto:{},objetos:[],edit:!1,file:"",message:"",imageData:""}},methods:{loadObjeto:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"true";this.mode=e,this.edit=a,this.objeto=Ut({},t)},loadObjetos:function(){var t=this,e="".concat(u,"/usuarios");l.a.get(e).then((function(e){t.objetos=e.data})).catch(d)},reset:function(){this.mode="save",this.objeto={},this.edit=!1,this.imageData=null,this.loadObjetos()},save:function(){var t=this,e=this.edit?"put":"post",a=this.edit?"/".concat(this.objeto.id):"";this.onSubmit(),this.objeto.fotoUrl="".concat(u,"/image/profile-1.jpg"),l.a[e]("".concat(u,"/usuarios").concat(a),this.objeto).then((function(){t.$toasted.global.defaultSucess(),t.reset()})).catch(d)},remove:function(){var t=this,e=this.objeto.id;l.a.delete("".concat(u,"/usuarios/").concat(e)).then((function(){t.$toasted.global.defaultSucess(),t.reset()})).catch(d)},onSelect:function(){this.previewImage();var t=["image/jpeg","image/jpg","image/png"],e=this.$refs.file.files[0];this.file=e,t.includes(e.type)||(this.message="Apenas imagens são aceitas."),e.size>5e5&&(this.message="Arquivo muito grande. O máximo permitido é 50KB")},onSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("userId",this.user.id),e.append("file",this.file),t.prev=3,t.next=6,l.a.post("".concat(u,"/upload-profileImg"),e);case 6:this.message="Upado!",t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),this.message="Deu ruim."+t.t0;case 12:case"end":return t.stop()}}),t,this,[[3,9]])})));function e(){return t.apply(this,arguments)}return e}(),previewImage:function(){var t=this,e=event.target;if(e.files&&e.files[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result},a.readAsDataURL(e.files[0])}}},mounted:function(){this.loadObjetos()}},Ft=Vt,Bt=(a("06e1"),Object(j["a"])(Ft,Mt,Et,!1,null,null,null)),Rt=Bt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"intro-section",attrs:{id:"create-section"}},[a("div",{staticClass:"row align-items-center m-5"},[a("div",{staticClass:"col-12"},[a("h3",{staticClass:"mt-5 mb-3"},[t._v("Livros")]),a("div",{staticClass:"row",attrs:{"data-aos":"fade-up","data-aos-delay":"500"}},[a("table",{staticClass:"data-table col-lg-9 form-box",attrs:{"data-aos":"fade-down","data-aos-delay":"0"}},[t._m(0),t._l(t.objetos,(function(e){return a("tr",{staticClass:"data-tr"},[a("th",{staticClass:"pd-left"},[t._v(t._s(e.id)+" / "+t._s(e.titulo))]),a("th",{staticClass:"pd-left"},[t._v(t._s(e.descricao.slice(0,10)+"..."))]),a("th",{staticClass:"pd-left"},[a("img",{attrs:{src:e.fotoUrl,width:"50px",height:"50px"}})]),a("th",{staticClass:"pd-left pd-right"},[t._v(t._s(e.proprietarioId)+" / "+t._s(e.categoriaId))]),a("th",{staticClass:"pd-top pd-right row"},[a("button",{staticClass:"bt-like",on:{click:function(t){}}},[a("font-awesome-icon",{attrs:{icon:"heart"}})],1),a("button",{staticClass:"bt-edit",on:{click:function(a){t.loadObjeto(e,"save",!0)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1),a("button",{staticClass:"bt-remove",on:{click:function(a){t.loadObjeto(e,"remove",!1)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])])}))],2),a("form",{staticClass:"form-box col-lg-3  justify-content-center"},[a("div",{staticClass:"col"},[a("img",{attrs:{src:t.imageData,width:"100px",height:"100px"}}),a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.titulo,expression:"objeto.titulo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Título da obra",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.titulo},on:{input:function(e){e.target.composing||t.$set(t.objeto,"titulo",e.target.value)}}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.descricao,expression:"objeto.descricao"}],staticClass:"form-control",attrs:{type:"text",placeholder:"breve descrição do livro",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.descricao},on:{input:function(e){e.target.composing||t.$set(t.objeto,"descricao",e.target.value)}}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{ref:"file",attrs:{type:"file",accept:"file_extension|image/*"},on:{change:t.onSelect}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.proprietarioId,expression:"objeto.proprietarioId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"id do dono do livro",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.proprietarioId},on:{input:function(e){e.target.composing||t.$set(t.objeto,"proprietarioId",e.target.value)}}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.categoriaId,expression:"objeto.categoriaId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"id da categoria",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.categoriaId},on:{input:function(e){e.target.composing||t.$set(t.objeto,"categoriaId",e.target.value)}}})]),a("div",{staticClass:"form-group justify-content-end"},["save"===t.mode?a("input",{staticClass:"btn btn-primary btn-pill",attrs:{type:"button",value:"Salvar"},on:{click:t.save}}):t._e(),"remove"===t.mode?a("input",{staticClass:"btn btn-danger btn-pill",attrs:{type:"button",value:"Excluir"},on:{click:t.remove}}):t._e(),a("input",{staticClass:"btn btn-dark danger ml-3 btn-pill",attrs:{type:"button",value:"limpar","data-aos":"fade-left"},on:{click:t.reset}})])])])])])])])},zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"top"},[a("th",{staticClass:"pd-top"},[t._v("Id / Título")]),a("th",{staticClass:"pd-top"},[t._v("Descrição")]),a("th",{staticClass:"pd-top"},[t._v("FotoUrl")]),a("th",{staticClass:"pd-top"},[t._v("Proprietário Id / Categoria Id")]),a("th",{staticClass:"pd-top"},[t._v("Ações")])])}];function Gt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function Ht(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Gt(a,!0).forEach((function(e){Object(At["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Gt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Jt={name:"DadosAmostra",data:function(){return{mode:"save",objeto:{},objetos:[],edit:!1,file:"",message:"",imageData:"",idLivro:""}},computed:Object(m["b"])(["user"]),methods:{loadObjeto:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"true";this.mode=e,this.edit=a,this.objeto=Ht({},t)},loadObjetos:function(){var t=this,e="".concat(u,"/livros");l.a.get(e).then((function(e){t.objetos=e.data})).catch(d)},reset:function(){this.mode="save",this.objeto={},this.imageData=null,this.loadObjetos()},save:function(){var t=this,e=this.edit?"put":"post",a=this.edit?"".concat(this.objeto.id):"",o=this.edit?"/":"";l.a[e]("".concat(u,"/livros").concat(o).concat(a),this.objeto).then((function(e){t.idLivro=t.edit?"".concat(a):JSON.stringify(e.data[0]),t.$toasted.global.defaultSucess(),t.onSubmit()})).catch(d),this.reset()},remove:function(){var t=this,e=this.objeto.id;l.a.delete("".concat(u,"/livros/").concat(e)).then((function(){t.$toasted.global.defaultSucess(),t.reset()})).catch(d)},onSelect:function(){this.previewImage();var t=["image/jpeg","image/jpg","image/png"],e=this.$refs.file.files[0];this.file=e,t.includes(e.type)||(this.message="Apenas imagens são aceitas."),e.size>5e5&&(this.message="Arquivo muito grande. O máximo permitido é 50KB")},onSubmit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("userId",this.user.id),e.append("livroId",this.idLivro),e.append("file",this.file),t.prev=4,t.next=7,l.a.post("".concat(u,"/upload-livroImg"),e);case 7:this.message="Upado!",t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),this.message="Deu ruim."+t.t0;case 13:case"end":return t.stop()}}),t,this,[[4,10]])})));function e(){return t.apply(this,arguments)}return e}(),previewImage:function(){var t=this,e=event.target;if(e.files&&e.files[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result},a.readAsDataURL(e.files[0])}}},mounted:function(){this.loadObjetos()}},Zt=Jt,Kt=(a("83b5"),Object(j["a"])(Zt,Tt,zt,!1,null,null,null)),Qt=Kt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"intro-section",attrs:{id:"create-section"}},[a("div",{staticClass:"row align-items-center m-5"},[a("div",{staticClass:"col-12"},[a("h3",{staticClass:"mt-5 mb-3"},[t._v("Categorias")]),a("div",{staticClass:"row",attrs:{"data-aos":"fade-up","data-aos-delay":"500"}},[a("table",{staticClass:"data-table col-lg-9 form-box",attrs:{"data-aos":"fade-down","data-aos-delay":"0"}},[t._m(0),t._l(t.objetos,(function(e){return a("tr",{staticClass:"data-tr"},[a("th",{staticClass:"pd-left"},[t._v(t._s(e.id))]),a("th",{staticClass:"pd-left"},[t._v(t._s(e.nome))]),a("th",{staticClass:"pd-left"},[t._v(t._s(t.loadVinculados(e.id))+" ")]),a("th",{staticClass:"pd-top pd-right row"},[a("button",{staticClass:"bt-edit",on:{click:function(a){t.loadObjeto(e,"save",!0)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1),a("button",{staticClass:"bt-remove",on:{click:function(a){t.loadObjeto(e,"remove",!1)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])])}))],2),a("form",{staticClass:"form-box col-lg-3  justify-content-center"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.nome,expression:"objeto.nome"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nome da categoria",readonly:"remove"===t.mode,required:""},domProps:{value:t.objeto.nome},on:{input:function(e){e.target.composing||t.$set(t.objeto,"nome",e.target.value)}}})]),a("div",{staticClass:"form-group mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.fotoUrl,expression:"objeto.fotoUrl"}],staticClass:"form-control",attrs:{type:"text",placeholder:"link da foto",readonly:"remove"===t.mode},domProps:{value:t.objeto.fotoUrl},on:{input:function(e){e.target.composing||t.$set(t.objeto,"fotoUrl",e.target.value)}}})]),a("div",{staticClass:"form-group justify-content-end"},["save"===t.mode?a("input",{staticClass:"btn btn-primary btn-pill",attrs:{type:"button",value:"Salvar"},on:{click:t.save}}):t._e(),"remove"===t.mode?a("input",{staticClass:"btn btn-danger btn-pill",attrs:{type:"button",value:"Excluir"},on:{click:t.remove}}):t._e(),a("input",{staticClass:"btn btn-dark danger ml-3 btn-pill",attrs:{type:"button",value:"limpar","data-aos":"fade-left"},on:{click:t.reset}})])])])])])])])},Xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"top"},[a("th",{staticClass:"pd-top"},[t._v("Id")]),a("th",{staticClass:"pd-top"},[t._v("Nome")]),a("th",{staticClass:"pd-top"},[t._v("Livros Vinculados")])])}];function Yt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function te(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Yt(a,!0).forEach((function(e){Object(At["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Yt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ee={name:"DadosAmostra",data:function(){return{mode:"save",objeto:{},vinculados:[],objetos:[],edit:!1}},methods:{loadObjeto:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"save",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"true";this.mode=e,this.edit=a,this.objeto=te({},t)},loadObjetos:function(){var t=this,e="".concat(u,"/categorias");l.a.get(e).then((function(e){t.objetos=e.data})).catch(d)},reset:function(){this.mode="save",this.objeto={},this.edit=!1,this.loadObjetos()},save:function(){var t=this,e=this.edit?"put":"post",a=this.edit?"/".concat(this.objeto.id):"";"post"===e&&delete this.objeto.vinculados,l.a[e]("".concat(u,"/categorias").concat(a),this.objeto).then((function(){t.$toasted.global.defaultSucess(),t.reset()})).catch(d)},remove:function(){var t=this,e=this.objeto.id;l.a.delete("".concat(u,"/categorias/").concat(e)).then((function(){t.$toasted.global.defaultSucess(),t.reset()})).catch(d)},loadVinculados:function(t){var e=this,a="".concat(u,"/categorias/vinculados/").concat(t);return l.a.get(a).then((function(t){e.vinculados=t.data})).catch(d)}},mounted:function(){this.loadObjetos()}},ae=ee,oe=(a("2386"),Object(j["a"])(ae,Wt,Xt,!1,null,null,null)),se=oe.exports,ie={name:"Dados",components:{DadosAmostraUsuarios:Rt,DadosAmostraLivros:Qt,DadosAmostraCategorias:se}},re=ie,ne=Object(j["a"])(re,Lt,Nt,!1,null,null,null),le=ne.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile"},[a("div",{staticClass:"profile-sidebar"},[a("div",{staticClass:"profile-userpic"},[a("img",{attrs:{src:t.user.fotoUrl,width:"100px",height:"100px",alt:""}}),a("div",{staticClass:"profile-usertitle"},[a("h3",{staticClass:"profile-usertitle-name"},[t._v(t._s(t.user.nome))]),a("h6",{staticClass:"profile-usertitle-local"},[t._v(t._s(t.user.local)+" "),a("br"),t._v(" "+t._s(t._f("celular")(t.user.celular)))]),a("h6",{staticClass:"profile-usertitle-vinculados"},[t._v(t._s(t.vinculados.length)+" Livros cadastrados")])]),a("div",{staticClass:"profile-logout"},[t.user?a("a",{staticClass:"nav-link btn btn-light bt-logout"},[a("font-awesome-icon",{attrs:{alt:"Logout",title:"Logout",icon:"door-open"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}}),t._v(" Sair ")],1):t._e()])])]),a("b-tabs",{staticClass:"perfil-tabs-desktop mt-3"},[a("b-tab",{attrs:{title:"Novo Livro"}},[a("NovoLivro",{staticClass:"mt-5"})],1),a("b-tab",{attrs:{title:"Meus Livros",active:""}},[a("MeusLivros")],1),a("b-tab",{attrs:{title:"Meus Dados"}},[a("MeusDados",{staticClass:"mt-4"})],1),a("b-tab",{attrs:{title:"Minhas Curtidas"}},[a("MinhasCurtidas")],1)],1),a("b-tabs",{staticClass:"perfil-tabs-mobile mt-3",attrs:{"nav-wrapper-class":"w-25"}},[a("b-tab",{attrs:{title:"Novo Livro"}},[a("NovoLivro",{staticClass:"mt-5"})],1),a("b-tab",{attrs:{title:"Meus Livros",active:""}},[a("MeusLivros")],1),a("b-tab",{attrs:{title:"Meus Dados"}},[a("MeusDados",{staticClass:"mt-4"})],1),a("b-tab",{attrs:{title:"Minhas Curtidas"}},[a("MinhasCurtidas")],1)],1)],1)},ue=[],de=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"meus_livros"},[o("div",{staticClass:"livros"},[o("div",{staticClass:"livro_grid"},t._l(t.vinculados,(function(e,s){return o("div",{staticClass:"livro row"},[o("div",{staticClass:"livro_img"},[o("router-link",{attrs:{to:{name:"livro",params:{id:e.id}}}},[o("img",{attrs:{src:e.fotoUrl}})])],1),o("div",{staticClass:"livro_info"},[o("h5",{staticClass:"mt-3"},[t._v(t._s(e.titulo))]),o("p",[t._v(t._s(e.descricao.slice(0,50)+"..."))]),o("h6",[o("img",{staticClass:"ml-2 mr-2",attrs:{src:a("c8e3"),width:"20px"}}),t._v(" "+t._s(e.nPaginas)+" Páginas")]),o("h6",[o("img",{staticClass:"mr-2",attrs:{src:a("642d"),width:"30px"}}),t._v(" "+t._s(e.tempoVida)+"  ")])]),o("div",{staticClass:"livro_actions"},[t._l(t.categorias,(function(a){return a.id===e.categoriaId?o("div",{staticClass:"bt-categoria"},[a.id===e.categoriaId?o("a",{attrs:{href:"/"}},[o("p",[t._v(t._s(a.nome))])]):t._e()]):t._e()})),o("a",{staticClass:"bt-like",on:{click:function(t){}}},[t._v(t._s(e.nCurtidas?e.nCurtidas+" Curtidas":"0 Curtidas")+" ")])],2)])})))])])},me=[],pe={name:"MeusLivros",computed:Object(m["b"])(["user"]),data:function(){return{vinculados:[],categorias:[]}},methods:{loadVinculados:function(){var t=this,e="".concat(u,"/usuarios/vinculados/").concat(this.user.id);l.a.get(e).then((function(e){t.vinculados=e.data})).catch(d)},loadCategorias:function(){var t=this;l.a.get("".concat(u,"/categorias")).then((function(e){t.categorias=e.data}))},curtir:function(t){this.curtida.usuarioInteressadoId=this.$store.state.user.id,this.curtida.livroCurtidoId=this.objetos[t].id,this.curtida.proprietarioId=this.objetos[t].proprietarioId,l.a.post("".concat(u,"/curtidas"),this.curtida).then(this.$toasted.global.defaultSucess()).catch(d),this.curtida={}}},mounted:function(){this.loadVinculados(),this.loadCategorias()}},ve=pe,fe=(a("8d69"),Object(j["a"])(ve,de,me,!1,null,null,null)),he=fe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"meus_dados"},[a("form",{staticClass:"form-box"},[a("div",{staticClass:"form-group mt-3 col"},[a("img",{staticClass:"img-edit",attrs:{src:t.imageData||"http://"+t.baseApiUrl+"/image/image-default.svg"}}),a("input",{ref:"file",staticClass:"ml-3",attrs:{id:"img",type:"file",accept:"file_extension|image/*"},on:{change:t.onSelect}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nome"}},[t._v("Nome e Sobrenome")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.nome,expression:"objeto.nome"}],staticClass:"form-control",attrs:{name:"nome",type:"text",placeholder:"Seu nome aqui :)",required:""},domProps:{value:t.objeto.nome},on:{input:function(e){e.target.composing||t.$set(t.objeto,"nome",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("E-mail")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.email,expression:"objeto.email"}],staticClass:"form-control",attrs:{name:"email",type:"text",placeholder:"seu e-mail",required:""},domProps:{value:t.objeto.email},on:{input:function(e){e.target.composing||t.$set(t.objeto,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login"}},[t._v("Login")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.login,expression:"objeto.login"}],staticClass:"form-control",attrs:{name:"login",type:"text",placeholder:"... e o login!",required:""},domProps:{value:t.objeto.login},on:{input:function(e){e.target.composing||t.$set(t.objeto,"login",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"senha"}},[t._v("Senha")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.senha,expression:"objeto.senha"}],staticClass:"form-control",attrs:{name:"senha",type:"password",placeholder:"Ah! Tem a senha também.",required:""},domProps:{value:t.objeto.senha},on:{input:function(e){e.target.composing||t.$set(t.objeto,"senha",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"confirmarSenha"}},[t._v("Confirmar Senha")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.confirmarSenha,expression:"objeto.confirmarSenha"}],staticClass:"form-control",attrs:{name:"confirmarSenha",type:"password",placeholder:"Pode repetir a senha?",required:""},domProps:{value:t.objeto.confirmarSenha},on:{input:function(e){e.target.composing||t.$set(t.objeto,"confirmarSenha",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"celular"}},[t._v("Celular")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.celular,expression:"objeto.celular"}],staticClass:"form-control",attrs:{name:"celular",type:"text",placeholder:"Diz aí qual teu número.",required:""},domProps:{value:t.objeto.celular},on:{input:function(e){e.target.composing||t.$set(t.objeto,"celular",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"local"}},[t._v("Local")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.local,expression:"objeto.local"}],staticClass:"form-control",attrs:{name:"local",type:"text",placeholder:"E onde você mora ;)",required:""},domProps:{value:t.objeto.local},on:{input:function(e){e.target.composing||t.$set(t.objeto,"local",e.target.value)}}})]),a("div",{staticClass:"button-group"},[a("input",{staticClass:"btn btn-primary bt-salvar mr-3 mb-5",attrs:{type:"button",value:"Salvar"},on:{click:t.update}})])])])},be=[],Ce=(a("7f7f"),{name:"MeusDados",computed:Object(m["b"])(["user"]),data:function(){return{objeto:{},file:"",imageData:""}},methods:{update:function(){var t=this;delete this.objeto.iat,delete this.objeto.exp,delete this.objeto.token,this.uploadPhoto();var e=this.file.name,a=e.lastIndexOf("."),o=e.substring(a+1);this.objeto.fotoUrl="".concat(u,"/image/profile-").concat(this.user.id,".").concat(o),l.a.put("".concat(u,"/usuarios/").concat(this.user.id),this.objeto).then((function(){t.$toasted.global.defaultSucess()})).catch(d)},onSelect:function(){this.previewImage();var t=["image/jpeg","image/jpg","image/png"],e=this.$refs.file.files[0];this.file=e,t.includes(e.type)||(this.message="Apenas imagens são aceitas."),e.size>5e5&&(this.message="Arquivo muito grande. O máximo permitido é 50KB")},uploadPhoto:function(){var t=new FormData;t.append("userId",this.user.id),t.append("file",this.file),l.a.post("".concat(u,"/upload-profileImg"),t).catch()},previewImage:function(){var t=this,e=event.target;if(e.files&&e.files[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result},a.readAsDataURL(e.files[0])}},reset:function(){this.objeto={},this.imageData=null}},mounted:function(){this.objeto=this.user}}),_e=Ce,je=(a("e1a3"),Object(j["a"])(_e,ge,be,!1,null,null,null)),we=je.exports,ye=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"minhas_curtidas"},[o("div",{staticClass:"livros"},[o("div",{staticClass:"livro_grid"},t._l(t.livrosCurtidos,(function(e,s){return o("div",{staticClass:"livro row"},[o("div",{staticClass:"livro_img"},[o("router-link",{attrs:{to:{name:"livro",params:{id:e.id}}}},[o("img",{attrs:{src:e.fotoUrl}})])],1),o("div",{staticClass:"livro_info"},[o("h5",{staticClass:"mt-3"},[t._v(t._s(e.titulo))]),o("p",[t._v(t._s(e.descricao.slice(0,50)+"..."))]),o("h6",[o("img",{staticClass:"ml-2 mr-2",attrs:{src:a("c8e3"),width:"20px"}}),t._v(" "+t._s(e.nPaginas)+" Páginas")]),o("h6",[o("img",{staticClass:"mr-2",attrs:{src:a("642d"),width:"30px"}}),t._v(" "+t._s(e.tempoVida)+"  ")])]),o("div",{staticClass:"livro_actions"},[t._l(t.categorias,(function(a){return a.id===e.categoriaId?o("div",{staticClass:"bt-categoria"},[a.id===e.categoriaId?o("a",{attrs:{href:"/"}},[o("p",[t._v(t._s(a.nome))])]):t._e()]):t._e()})),o("a",{staticClass:"bt-deslike",on:{click:function(e){t.descurtir(s)}}},[o("font-awesome-icon",{attrs:{icon:"heart-broken"}}),t._v(" Descurtir ")],1)],2)])})))])])},xe=[],Oe={name:"MinhasCurtidas",computed:Object(m["b"])(["user"]),data:function(){return{curtidas:[],minhasCurtidas:[],livrosCurtidos:[],categorias:[],livros:[],descurtida:{}}},methods:{loadCategorias:function(){var t=this;l.a.get("".concat(u,"/categorias")).then((function(e){t.categorias=e.data}))},loadCurtidas:function(){var t=this;l.a.get("".concat(u,"/curtidas")).then((function(e){t.curtidas=e.data;for(var a=0;a<t.curtidas.length;a++)t.curtidas[a].usuarioInteressadoId===t.user.id&&t.minhasCurtidas.push(t.curtidas[a])}))},loadLivros:function(){var t=this;l.a.get("".concat(u,"/livros")).then((function(e){t.livros=e.data;for(var a=0;a<t.minhasCurtidas.length;a++)for(var o=0;o<t.livros.length;o++)t.minhasCurtidas[a].livroCurtidoId===t.livros[o].id&&t.livrosCurtidos.push(t.livros[o])}))},descurtir:function(t){for(var e=0;e<this.curtidas.length;e++)this.curtidas[e].usuarioInteressadoId===this.user.id&&this.curtidas[e].livroCurtidoId===this.livrosCurtidos[t].id&&(this.descurtida.id=this.curtidas[e].id,this.descurtida.livroDescurtidoId=this.curtidas[e].livroCurtidoId);this.descurtida.nCurtidas=this.livrosCurtidos[t].nCurtidas,l.a.delete("".concat(u,"/descurtir"),{data:this.descurtida}).then(this.$toasted.global.defaultSucess()).catch(d)}},mounted:function(){this.loadCategorias(),this.loadCurtidas(),this.loadLivros()}},ke=Oe,Se=(a("8690"),Object(j["a"])(ke,ye,xe,!1,null,null,null)),Ie=Se.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"novo_livro"},[a("form",{staticClass:"form-box"},[a("img",{attrs:{src:t.imageData||"http://"+t.baseApiUrl+":3000/image/image-default.svg"}}),a("div",{staticClass:"form-group mt-3 col"},[a("input",{ref:"file",attrs:{id:"img",type:"file",accept:"file_extension|image/*"},on:{change:t.onSelect}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.titulo,expression:"objeto.titulo"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Título da obra",required:""},domProps:{value:t.objeto.titulo},on:{input:function(e){e.target.composing||t.$set(t.objeto,"titulo",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.objeto.descricao,expression:"objeto.descricao"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Breve descrição do livro",required:""},domProps:{value:t.objeto.descricao},on:{input:function(e){e.target.composing||t.$set(t.objeto,"descricao",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.nPaginas,expression:"objeto.nPaginas"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Quantas páginas tem?",required:""},domProps:{value:t.objeto.nPaginas},on:{input:function(e){e.target.composing||t.$set(t.objeto,"nPaginas",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.objeto.tempoVida,expression:"objeto.tempoVida"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Há quanto tempo o livro está com você? ",required:""},domProps:{value:t.objeto.tempoVida},on:{input:function(e){e.target.composing||t.$set(t.objeto,"tempoVida",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Ah! Tem a categoria também!")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.objeto.categoriaId,expression:"objeto.categoriaId"}],staticClass:"form-control",attrs:{name:"categoria",placeholder:"escolha uma opção",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.objeto,"categoriaId",e.target.multiple?a:a[0])}}},t._l(t.categorias,(function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.id)+" / "+t._s(e.nome))])})))]),a("div",{staticClass:"button-group mb-5"},[a("input",{staticClass:"btn btn-primary btn-pill bt-salvar",attrs:{type:"button",value:"Salvar"},on:{click:t.full}}),a("input",{staticClass:"btn btn-dark danger ml-3 btn-pill",attrs:{type:"button",value:"limpar","data-aos":"fade-left"},on:{click:t.reset}})])])])},$e=[],De={name:"NovoLivro",computed:Object(m["b"])(["user"]),data:function(){return{objeto:{disponivel:!1},categorias:[],file:"",imageData:"",idLivro:null,novoLivro:null}},methods:{loadCategorias:function(){var t=this;l.a.get("".concat(u,"/categorias")).then((function(e){t.categorias=e.data}))},full:function(){var t=this;this.objeto.proprietarioId=this.user.id,l.a.post("".concat(u,"/livros"),this.objeto).then((function(e){t.idLivro=e.data[0],t.uploadPhoto();var a=t.file.name,o=a.lastIndexOf("."),s=a.substring(o+1);t.getNovo(t.idLivro,s)})).catch(d),this.reset()},save:function(){var t=this;l.a.post("".concat(u,"/livros"),this.objeto).then((function(e){t.idLivro=JSON.stringify(e.data[0])})).catch(d),this.reset()},getNovo:function(t,e){var a=this;l.a.get("".concat(u,"/livros/").concat(t)).then((function(t){a.novoLivro=JSON.parse(JSON.stringify(t.data)),a.novoLivro.fotoUrl="".concat(u,"/image/livro-").concat(a.user.id,"-").concat(a.idLivro,".").concat(e),a.putNovo(a.idLivro,a.novoLivro)})).catch(d)},putNovo:function(t,e){l.a.put("".concat(u,"/livros/").concat(t),e).then(this.$toasted.global.defaultSucess()).catch(d)},onSelect:function(){this.previewImage();var t=["image/jpeg","image/jpg","image/png"],e=this.$refs.file.files[0];this.file=e,t.includes(e.type)||(this.message="Apenas imagens são aceitas."),e.size>5e5&&(this.message="Arquivo muito grande. O máximo permitido é 50KB")},uploadPhoto:function(){var t=new FormData;t.append("userId",this.user.id),t.append("livroId",this.idLivro),t.append("file",this.file),l.a.post("".concat(u,"/upload-livroImg"),t).catch()},previewImage:function(){var t=this,e=event.target;if(e.files&&e.files[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result},a.readAsDataURL(e.files[0])}},reset:function(){this.objeto={},this.imageData=null}},mounted:function(){this.loadCategorias()}},Le=De,Ne=(a("2666"),Object(j["a"])(Le,Pe,$e,!1,null,null,null)),Me=Ne.exports,Ee={name:"Perfil",components:{MeusLivros:he,MeusDados:we,NovoLivro:Me,MinhasCurtidas:Ie},computed:Object(m["b"])(["user"]),data:function(){return{vinculados:[],categorias:[]}},methods:{loadVinculados:function(){var t=this,e="".concat(u,"/usuarios/vinculados/").concat(this.user.id);l.a.get(e).then((function(e){t.vinculados=e.data})).catch(d)},loadCategorias:function(){var t=this;l.a.get("".concat(u,"/categorias")).then((function(e){t.categorias=e.data}))},logout:function(){localStorage.removeItem(c),this.$store.commit("setUser",null),this.$router.push({name:"Login"})}},mounted:function(){this.loadVinculados(),this.loadCategorias()}},Ae=Ee,qe=(a("a42e"),Object(j["a"])(Ae,ce,ue,!1,null,null,null)),Ue=qe.exports,Ve=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"livro_grid"},[o("div",{staticClass:"livro_img"},[o("router-link",{attrs:{to:""}},[o("img",{attrs:{src:t.objeto.fotoUrl}}),o("p",{directives:[{name:"show",rawName:"v-show",value:1===t.objeto.disponivel,expression:"objeto.disponivel === 1"}],staticClass:"flag-disponivel"},[o("font-awesome-icon",{attrs:{icon:"check"}}),t._v(" Disponível")],1),o("p",{directives:[{name:"show",rawName:"v-show",value:0===t.objeto.disponivel,expression:"objeto.disponivel === 0"}],staticClass:"flag-indisponivel"},[o("font-awesome-icon",{attrs:{icon:"times"}}),t._v(" Indisponível")],1)])],1),o("div",{staticClass:"livro_info"},[o("h2",{staticClass:"mt-3"},[t._v(t._s(t.objeto.titulo))]),o("p",[t._v(t._s(t.objeto.descricao))]),o("h6",[o("img",{staticClass:"ml-2 mr-2",attrs:{src:a("c8e3"),width:"20px"}}),t._v(" "+t._s(t.objeto.nPaginas)+" Páginas")]),o("h6",[o("img",{staticClass:"mr-2",attrs:{src:a("642d"),width:"30px"}}),t._v(" "+t._s(t.objeto.tempoVida)+"  ")]),o("div",{staticClass:"row mt-5 ml-3"},[o("div",{staticClass:"mr-3 livro_actions"},[t._l(t.categorias,(function(e){return e.id===t.objeto.categoriaId?o("div",{staticClass:"bt-categoria"},[e.id===t.objeto.categoriaId?o("a",{attrs:{href:"/"}},[o("p",[t._v(t._s(e.nome))])]):t._e()]):t._e()})),t.objeto.proprietarioId===t.user.id?o("a",{staticClass:"bt-like ml-3",on:{click:function(t){}}},[t._v(t._s(t.objeto.nCurtidas?t.objeto.nCurtidas+" Curtidas":"0 Curtidas")+" ")]):o("a",{staticClass:"bt-like",on:{click:function(e){t.curtir(t.objeto.id)}}},[o("font-awesome-icon",{attrs:{icon:"heart"}}),t._v(" Curtir")],1)],2)]),o("hr",{staticClass:"mt-5"}),t._l(t.donos,(function(e){return e.id===t.objeto.proprietarioId?o("div",{staticClass:"ml-3"},[o("h5",[t._v("Livro Postado por ")]),o("div",{staticClass:"dono"},[o("img",{staticClass:"mr-3",staticStyle:{"border-radius":"50%"},attrs:{src:e.fotoUrl,width:"50px"}}),t.objeto.proprietarioId===t.user.id?o("router-link",{staticClass:"btn_ver_livros",attrs:{to:"/minha-conta"}},[o("strong",[t._v(" "+t._s(e.nome)+" ")])]):o("router-link",{staticClass:"btn_ver_livros",attrs:{to:{name:"dono",params:{id:t.objeto.proprietarioId}}}},[o("strong",[t._v(" "+t._s(e.nome)+" ")])])],1),o("p",{staticClass:"mt-3",staticStyle:{"font-size":"16px"}},[o("font-awesome-icon",{staticStyle:{color:"#FFB600"},attrs:{icon:"map-marker-alt"}}),t._v("  "+t._s(e.local))],1)]):t._e()}))],2)])},Fe=[],Be={name:"Livro",props:["id"],computed:Object(m["b"])(["user"]),data:function(){return{objeto:{},categorias:[],donos:[]}},methods:{loadObjeto:function(){var t=this,e="".concat(u,"/livros/").concat(this.id);l.a.get(e).then((function(e){t.objeto=e.data})).catch(d)},loadCategorias:function(){var t=this;l.a.get("".concat(u,"/categorias")).then((function(e){t.categorias=e.data}))},loadDonos:function(){var t=this;l.a.get("".concat(u,"/usuarios")).then((function(e){t.donos=e.data}))},curtir:function(t){this.curtida.usuarioInteressadoId=this.$store.state.user.id,this.curtida.livroCurtidoId=this.objetos[t].id,this.curtida.proprietarioId=this.objetos[t].proprietarioId,this.curtida.nCurtidas=this.objetos[t].nCurtidas,l.a.post("".concat(u,"/curtidas"),this.curtida).then(this.$toasted.global.defaultSucess()).catch(d),this.curtida={}}},mounted:function(){this.loadCategorias(),this.loadObjeto(),this.loadDonos()}},Re=Be,Te=(a("f27d"),Object(j["a"])(Re,Ve,Fe,!1,null,"1743b2cf",null)),ze=Te.exports,Ge=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"profile"},[o("div",{staticClass:"profile-sidebar"},[o("div",{staticClass:"profile-userpic"},[o("img",{attrs:{src:t.dono.fotoUrl,width:"100px",height:"100px",alt:""}}),o("div",{staticClass:"profile-usertitle"},[o("h3",{staticClass:"profile-usertitle-name"},[t._v(t._s(t.dono.nome))]),o("h6",{staticClass:"profile-usertitle-local"},[t._v(t._s(t.dono.local)+" "),o("br"),o("a",{attrs:{href:t.zap}},[t._v(t._s(t._f("celular")(t.dono.celular.slice(0,8)+" ... ver mais")))])]),o("h6",{staticClass:"profile-usertitle-vinculados"},[t._v(t._s(t.vinculados.length)+" Livros cadastrados")])])])]),o("div",{staticClass:"livro_grid mt-3 row"},t._l(t.vinculados,(function(e,s){return o("div",{staticClass:"livro row"},[o("div",{staticClass:"livro_img"},[o("router-link",{attrs:{to:{name:"livro",params:{id:e.id}}}},[o("img",{attrs:{src:e.fotoUrl}})])],1),o("div",{staticClass:"livro_info"},[o("h5",{staticClass:"mt-3"},[t._v(t._s(e.titulo))]),o("p",[t._v(t._s(e.descricao.slice(0,30)+"..."))]),o("h6",[o("img",{staticClass:"ml-2 mr-2",attrs:{src:a("c8e3"),width:"20px"}}),t._v(" "+t._s(e.nPaginas)+" Páginas")]),o("h6",[o("img",{staticClass:"mr-2",attrs:{src:a("642d"),width:"30px"}}),t._v(" "+t._s(e.tempoVida)+"  ")])]),o("div",{staticClass:"livro_actions mt-3"},[t._l(t.categorias,(function(a){return a.id===e.categoriaId?o("div",{staticClass:"bt-categoria"},[a.id===e.categoriaId?o("a",{staticClass:"mb-3",attrs:{href:"/"}},[o("p",[t._v(t._s(a.nome))])]):t._e()]):t._e()})),o("a",{staticClass:"bt-like ml-3",on:{click:function(e){t.curtir(s)}}},[o("font-awesome-icon",{attrs:{icon:"heart"}}),t._v(" Curtir")],1)],2)])})))])},He=[],Je={name:"Dono",props:["id"],computed:Object(m["b"])(["user"]),data:function(){return{dono:{},categorias:[],vinculados:[],livros:[],donos:[],zap:""}},methods:{loadVinculados:function(){var t=this,e="".concat(u,"/usuarios/vinculados/").concat(this.id);l.a.get(e).then((function(e){t.vinculados=e.data})).catch(d)},loadDono:function(){var t=this,e="".concat(u,"/usuarios/").concat(this.id);l.a.get(e).then((function(e){t.dono=e.data,t.zap="https://api.whatsapp.com/send?phone=55".concat(t.dono.celular,"&text=Ol%C3%A1.%20vi%20o%20seu%20livro%20no%20Vinler%20e%20fiquei%20interessado!")})).catch(d)},loadCategorias:function(){var t=this;l.a.get("".concat(u,"/categorias")).then((function(e){t.categorias=e.data}))},loadDonos:function(){var t=this;l.a.get("".concat(u,"/usuarios")).then((function(e){t.donos=e.data}))},curtir:function(t){this.curtida.usuarioInteressadoId=this.$store.state.user.id,this.curtida.livroCurtidoId=this.objetos[t].id,this.curtida.proprietarioId=this.objetos[t].proprietarioId,this.curtida.nCurtidas=this.objetos[t].nCurtidas,l.a.post("".concat(u,"/curtidas"),this.curtida).then(this.$toasted.global.defaultSucess()).catch(d),this.curtida={}}},mounted:function(){this.loadCategorias(),this.loadDonos(),this.loadDono(),this.loadVinculados()}},Ze=Je,Ke=(a("92a7"),Object(j["a"])(Ze,Ge,He,!1,null,"4b13eebd",null)),Qe=Ke.exports;o["default"].use(tt["a"]);var We=new tt["a"]({mode:"history",routes:[{path:"/vitrine",name:"Vitrine",component:Ot},{path:"/auth",name:"Login",component:Dt},{path:"/dados",name:"Dados",component:le},{path:"/minha-conta",name:"Perfil",component:Ue},{path:"/livro/:id",name:"livro",component:ze,props:!0},{path:"/dono/:id",name:"dono",component:Qe,props:!0}]});o["default"].use(m["a"]);var Xe=new m["a"].Store({state:{user:null,isLoged:!1,isMenuVisible:!1,isCloseMenu:!1,isNotifyVisible:!1,isCloseNotify:!1,buscar:""},mutations:{setUser:function(t,e){t.user=e,e?(l.a.defaults.headers.common["Authorization"]="bearer ".concat(e.token),this.isLoged=!0):(delete l.a.defaults.headers.common["Authorization"],this.isLoged=!1)},toggleMenu:function(t,e){void 0===e?(t.isMenuVisible=!t.isMenuVisible,t.isCloseMenu=!t.isCloseMenu):(t.isMenuVisible=e,t.isCloseMenu=e)},toggleMinhaConta:function(t,e){void 0===e?(t.isMinhaContaVisible=!t.isMinhaContaVisible,t.isCloseMinhaConta=!t.isCloseMinhaConta):(t.isMinhaContaVisible=e,t.isCloseMinhaConta=e)},toggleNotify:function(t,e){void 0===e?(t.isNotifyVisible=!t.isNotifyVisible,t.isCloseNotify=!t.isCloseNotify):(t.isNotifyVisible=e,t.isCloseNotify=e)},setBusca:function(t,e){t.buscar=e}}}),Ye=a("a65d"),ta=a.n(Ye);o["default"].use(ta.a,{duration:3e3,iconPack:"fontawesome",position:"bottom-center",theme:"bubble"}),o["default"].toasted.register("defaultSucess",(function(t){return t.msg?JSON.parse(t.msg.request.response).error:"Operação realizada com sucesso!"}),{type:"sucess",icon:"check"}),o["default"].toasted.register("defaultError",(function(t){return t.err?JSON.parse(t.msg.request.response).error:"Oops.. Erro inesperado"}),{type:"error",icon:"times"}),o["default"].toasted.register("bookRegisterSucess","Seu livro foi cadastrado!",{type:"sucess",icon:"times"}),o["default"].toasted.register("likeNotify","Seu livro foi curtido por ",{type:"sucess",icon:"times"}),o["default"].toasted.register("likeNotify","Você deu um match com ",{type:"sucess",icon:"times"});var ea=function(t){return t},aa=function(t){if(401!==t.response.status)return Promise.reject(t);window.location="/"};l.a.interceptors.response.use(ea,aa);var oa=a("f5af"),sa=a.n(oa),ia=a("5f5b"),ra=a("7966"),na=a.n(ra),la=a("ecee"),ca=a("ad3d"),ua=a("c074");o["default"].component("font-awesome-icon",ca["a"]),la["c"].add(ua["d"],ua["l"],ua["c"],ua["a"],ua["i"],ua["j"],ua["e"],ua["h"],ua["g"],ua["b"],ua["k"],ua["f"]),o["default"].filter("celular",(function(t){var e=t.split("");return e.splice(0,0,"("),e.splice(3,0,")"),e.splice(4,0," "),e.splice(6,0," "),e.splice(11,0,"-"),e.join("")})),o["default"].config.productionTip=!1,sa.a.init(),o["default"].use(ia["a"]),o["default"].use(na.a),new o["default"]({router:We,store:Xe,render:function(t){return t(Y)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var o=a("91cd"),s=a.n(o);s.a},"642d":function(t,e,a){t.exports=a.p+"img/shelf.e9ac7f27.svg"},"65c9":function(t,e,a){},"6b59":function(t,e,a){},"6f4c":function(t,e,a){},"83b5":function(t,e,a){"use strict";var o=a("ace9"),s=a.n(o);s.a},8690:function(t,e,a){"use strict";var o=a("1d92"),s=a.n(o);s.a},8812:function(t,e,a){},"8d69":function(t,e,a){"use strict";var o=a("fb0b"),s=a.n(o);s.a},"8dce":function(t,e,a){},"91cd":function(t,e,a){},"92a7":function(t,e,a){"use strict";var o=a("8dce"),s=a.n(o);s.a},"9f0e":function(t,e,a){},a42e:function(t,e,a){"use strict";var o=a("8812"),s=a.n(o);s.a},ace9:function(t,e,a){},af1d:function(t,e,a){},b570:function(t,e,a){},b7dc:function(t,e,a){"use strict";var o=a("42e8"),s=a.n(o);s.a},c8e3:function(t,e,a){t.exports=a.p+"img/book.248512a3.svg"},cf05:function(t,e,a){t.exports=a.p+"img/logo.d9ffcb96.png"},d79f:function(t,e,a){"use strict";var o=a("274d"),s=a.n(o);s.a},e1a3:function(t,e,a){"use strict";var o=a("6b59"),s=a.n(o);s.a},e92a:function(t,e,a){},f27d:function(t,e,a){"use strict";var o=a("6f4c"),s=a.n(o);s.a},f463:function(t,e,a){"use strict";var o=a("9f0e"),s=a.n(o);s.a},f4e2:function(t,e,a){"use strict";var o=a("af1d"),s=a.n(o);s.a},fb0b:function(t,e,a){}});
//# sourceMappingURL=app.4ca1372d.js.map